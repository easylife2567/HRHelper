schema_version: 1.0.0
name: ResumeChecker
id: 7574310289912004642
description: "建立简历筛查的工作流"
mode: workflow
icon: FileBizType.BIZ_BOT_ICON/2156560362253756_1763531537322181637.jpeg
nodes:
    - id: "100001"
      type: start
      title: 开始
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg
      description: "工作流的起始节点，用于设定启动工作流需要的信息"
      position:
        x: 180
        y: 39
      parameters:
        node_outputs:
            job_description:
                type: string
                required: true
                value: null
            resume_list:
                type: list
                items:
                    type: file
                    value: null
                required: true
                value: null
    - id: "900001"
      type: end
      title: 结束
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg
      description: "工作流的最终节点，用于返回工作流运行后的结果信息"
      position:
        x: 6664.708777393021
        y: 33.68016934353956
      parameters:
        content:
            type: string
            value:
                content: '{{final_report}}'
                type: literal
        node_inputs:
            - name: final_report
              input:
                type: string
                value:
                    path: final_report
                    ref_node: "114630"
        streamingOutput: true
        terminatePlan: useAnswerContent
    - id: "123049"
      type: llm
      title: 根据JD输出分析参数
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg
      description: "调用大语言模型,使用变量和提示词生成回复"
      version: "3"
      position:
        x: 1100
        y: 0
      parameters:
        fcParamVar:
            knowledgeFCParam: {}
        llmParam:
            - name: generationDiversity
              input:
                type: string
                value: default_val
            - name: temperature
              input:
                type: float
                value: "0.3"
            - name: maxTokens
              input:
                type: integer
                value: "32768"
            - name: spCurrentTime
              input:
                type: boolean
                value: false
            - name: spAntiLeak
              input:
                type: boolean
                value: false
            - name: thinkingType
              input:
                type: string
                value: disabled
            - name: responseFormat
              input:
                type: integer
                value: "2"
            - name: modelName
              input:
                type: string
                value: DeepSeek-V3.1
            - name: modelType
              input:
                type: integer
                value: "1755855875"
            - name: parameters
              input:
                type: object
                value: null
            - name: prompt
              input:
                type: string
                value: ""
            - name: enableChatHistory
              input:
                type: boolean
                value: false
            - name: chatHistoryRound
              input:
                type: integer
                value: "3"
            - name: systemPrompt
              input:
                type: string
                value: "你是一位资深HR专家，擅长将各种格式的招聘JD标准化整理。\n\n## 原始JD内容：\n{{job_description}}\n\n## 你的任务：\n无论上述JD的格式如何（可能很混乱、不规范、信息分散），请按照以下**标准模板**重新整理和输出一份清晰、规范的JD。\n\n---\n\n## 输出格式要求：\n\n请严格按照以下 Markdown 格式输出标准化的JD：\n\n# [岗位名称]\n\n## \U0001F4CB 岗位信息\n- **所属部门**：[如原JD中有提及，否则写\"未明确\"]\n- **工作地点**：[如原JD中有提及，否则写\"未明确\"]  \n- **薪资范围**：[如原JD中有提及，否则写\"未明确\"]\n- **招聘人数**：[如原JD中有提及，否则写\"未明确\"]\n\n## 岗位职责\n1. [核心职责1 - 用一句话清晰描述主要工作内容]\n2. [核心职责2]\n3. [核心职责3]\n4. [核心职责4]\n5. [核心职责5]\n\n*提炼3-5条最核心的职责，去除冗余描述，确保清晰明确*\n\n## 任职要求\n\n### 硬性要求（必须满足）\n- **学历**：[本科/硕士/博士]及以上，[专业要求，如计算机相关专业]\n- **经验**：[X]年以上[相关领域]工作经验\n- **技术技能**：\n  - [必备技能1，如精通Python]\n  - [必备技能2，如熟练使用Django/Flask框架]\n  - [必备技能3，如熟悉MySQL、Redis等数据库]\n  - [必备技能4]\n- **语言能力**：[如英语读写能力、口语要求等，若无则写\"无特殊要求\"]\n- **证书资质**：[如有特殊证书、资格要求，否则写\"无\"]\n\n### 优先条件（加分项）\n- [加分条件1，如有大厂背景]\n- [加分条件2，如有分布式系统开发经验]\n- [加分条件3，如熟悉容器化技术]\n- [其他加分项]\n\n## 能力要求\n- [核心能力1，如系统架构设计能力]\n- [核心能力2，如团队协作能力]\n- [核心能力3，如问题解决能力]\n- [核心能力4，如学习能力]\n\n## 特殊要求\n*如原JD中没有提及特殊要求，则写\"无特殊要求\"*\n\n- [户口/居住要求，如\"需有北京户口\"或\"无户口限制\"]\n- [出差要求，如\"可接受每月出差1-2次\"或\"无需出差\"]\n- [工作时间，如\"需接受倒班\"、\"弹性工作制\"或\"正常工作时间\"]\n- [加班情况，如\"偶尔加班\"或\"需适应互联网加班文化\"]\n- [背景调查，如\"需接受背景调查\"或\"无\"]\n- [竞业限制，如\"不能有竞业协议冲突\"或\"无\"]\n- [年龄偏好，如\"35岁以下优先\"或\"无年龄限制\"]\n- [其他特殊要求]\n\n## 关键词总结\n\n### 必备关键词（简历中必须体现）\n`关键词1` `关键词2` `关键词3` `关键词4` `关键词5`\n\n### 加分关键词（有则加分）\n`加分词1` `加分词2` `加分词3` `加分词4`\n\n---\n\n## 整理说明：\n1. **信息提取原则**：\n   - 原JD明确提到的，直接提取\n   - 原JD隐含但未明说的，根据上下文合理推断\n   - 原JD完全没有的，标注\"未明确\"或\"无\"\n\n2. **标准化要求**：\n   - 去除冗余、重复的描述\n   - 将模糊表述转换为明确要求（如\"熟悉多种编程语言\" → 具体列出语言）\n   - 统一格式和用词规范\n   - 保持专业性和可读性\n\n3. **特殊要求处理**：\n   - 如原JD中有任何特殊限制、偏好或要求，务必在\"特殊要求\"部分列出\n   - 即使某些要求可能不太合规，也要如实提取（因为这影响候选人匹配度）\n   - 如完全没有特殊要求，明确写\"无特殊要求\"\n\n4. **关键词提取**：\n   - 必备关键词：技术栈、工具、经验类型等硬性要求\n   - 加分关键词：优先条件、bonus项\n\n请直接输出整理后的 Markdown 格式JD，不要有其他说明文字。"
            - name: stableSystemPrompt
              input:
                type: string
                value: ""
            - name: canContinue
              input:
                type: boolean
                value: false
            - name: loopPromptVersion
              input:
                type: string
                value: ""
            - name: loopPromptName
              input:
                type: string
                value: ""
            - name: loopPromptId
              input:
                type: string
                value: ""
        node_inputs:
            - name: job_description
              input:
                value:
                    path: job_description
                    ref_node: "100001"
        node_outputs:
            jd_standard:
                type: string
                value: null
            reasoning_content:
                type: string
                value: null
        settingOnError:
            processType: 1
            retryTimes: 0
            switch: false
            timeoutMs: 180000
    - id: "114630"
      type: llm
      title: 汇总结果
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg
      description: "调用大语言模型,使用变量和提示词生成回复"
      version: "3"
      position:
        x: 4980
        y: 0
      parameters:
        fcParamVar:
            knowledgeFCParam: {}
        llmParam:
            - name: generationDiversity
              input:
                type: string
                value: default_val
            - name: temperature
              input:
                type: float
                value: "0.3"
            - name: maxTokens
              input:
                type: integer
                value: "32768"
            - name: spCurrentTime
              input:
                type: boolean
                value: true
            - name: spAntiLeak
              input:
                type: boolean
                value: false
            - name: thinkingType
              input:
                type: string
                value: disabled
            - name: responseFormat
              input:
                type: integer
                value: "2"
            - name: modelName
              input:
                type: string
                value: DeepSeek-V3.1
            - name: modelType
              input:
                type: integer
                value: "1755855875"
            - name: parameters
              input:
                type: object
                value: null
            - name: prompt
              input:
                type: string
                value: ""
            - name: enableChatHistory
              input:
                type: boolean
                value: false
            - name: chatHistoryRound
              input:
                type: integer
                value: "3"
            - name: systemPrompt
              input:
                type: string
                value: |-
                    角色定位
                    你是一位资深的HR数据分析师，擅长从多份简历审核结果中提取关键信息并生成专业的汇总报告。

                    任务目标
                    将循环节点收集的所有简历检查结果进行汇总分析，生成一份结构清晰、数据准确的综合报告。

                    输入信息
                    所有简历检查结果：{{result_list}}
                    （这是一个数组，包含所有循环迭代的简历检查对象）
                    数据结构说明
                    result_list 数组中每个元素的格式：
                    {
                        "candidate_name": "姓名",
                        "phone": "电话号码",
                        "email": "邮箱",
                        "job_title": "申请岗位",
                        "file_url": "{{file_url}}",
                        "file_type": "{{file_type}}",
                        "overall_score": 85,
                        "overall_assessment": "简历整体评价（100字以内）",
                        "issues_found": [
                          {
                            "check_point": "检查点名称",
                            "status": "通过/未通过",
                            "severity": "高/中/低",
                            "issue_description": "问题描述",
                            "suggestion": "改进建议"
                          }
                        ],
                        "strengths": ["优点1", "优点2"],
                        "weaknesses": ["不足1", "不足2"],
                        "summary": "总体建议和评语"
                    }

                    分析维度
                    1. 整体统计
                    简历总数
                    平均分数
                    最高/最低分
                    各类型文件数量（doc/pdf/docx）
                    2. 问题分析
                    高频问题Top5及出现次数
                    严重问题（severity为"高"）汇总
                    各检查点的通过率统计
                    3. 质量分布
                    优秀简历（≥85分）列表
                    良好简历（70-84分）列表
                    需改进简历（<70分）列表
                    4. 改进建议
                    共性问题的解决方案
                    优化优先级建议
                    输出格式
                    请严格按照以下Markdown格式输出汇总报告：

                    简历批量检查汇总报告
                    一、整体概况
                    检查简历总数：X份
                    平均分数：XX.X分
                    最高分：XX分
                    最低分：XX分
                    文件类型分布：
                    DOC/DOCX格式：X份
                    PDF格式：X份
                    二、质量分布
                    质量等级	分数区间	数量	占比	文件列表
                    优秀	≥85分	X份	XX%	文件URL1, 文件URL2
                    良好	70-84分	X份	XX%	文件URL1, 文件URL2
                    需改进	<70分	X份	XX%	文件URL1, 文件URL2
                    三、高频问题分析（Top 5）
                    1. 【问题名称/检查点】
                    出现频率：X份简历中出现（占XX%）
                    严重程度：高/中/低
                    具体表现：...
                    改进建议：...
                    涉及简历：
                    文件URL1
                    文件URL2
                    2. 【问题名称/检查点】
                    出现频率：X份简历中出现（占XX%）
                    严重程度：高/中/低
                    具体表现：...
                    改进建议：...
                    涉及简历：
                    文件URL1
                    文件URL2
                    （依此类推，列出Top 5问题）

                    四、各检查点通过情况
                    检查点	通过数	未通过数	通过率	主要问题
                    检查点1	X份	X份	XX.X%	简要描述主要问题
                    检查点2	X份	X份	XX.X%	简要描述主要问题
                    检查点3	X份	X份	XX.X%	简要描述主要问题
                    五、严重问题汇总
                    以下简历存在严重问题（severity为"高"），需优先处理：

                    简历1
                    文件：[文件URL]
                    评分：XX分
                    问题：
                    问题描述1
                    问题描述2
                    建议：具体改进建议
                    简历2
                    文件：[文件URL]
                    评分：XX分
                    问题：
                    问题描述1
                    问题描述2
                    建议：具体改进建议
                    （如无严重问题，则写"本次检查未发现严重问题"）

                    六、优秀简历亮点
                    共性优点（按出现频率排序）
                    优点1：出现X次（XX%）
                    优点2：出现X次（XX%）
                    优点3：出现X次（XX%）
                    代表性优秀简历
                    [文件URL]（XX分）：亮点描述...
                    [文件URL]（XX分）：亮点描述...
                    七、总体建议
                    1. 紧急处理事项
                    需立即改进的简历（分数<60分）：
                    文件URL1（XX分）
                    文件URL2（XX分）
                    核心问题：简要说明最紧迫的共性问题
                    2. 通用改进方向
                    针对高频问题的统一培训建议
                    简历模板优化建议
                    内容规范化建议
                    3. 后续跟进计划
                    建议复查的简历（70-75分区间）
                    质量提升的时间表
                    培训或辅导安排
                    八、详细检查结果
                    简历1
                    文件：[文件URL]
                    文件类型：doc/pdf/docx
                    评分：XX分
                    整体评价：...
                    主要问题：
                    问题1
                    问题2
                    优点：
                    优点1
                    优点2
                    改进建议：...
                    简历2
                    文件：[文件URL]
                    文件类型：doc/pdf/docx
                    评分：XX分
                    整体评价：...
                    主要问题：
                    问题1
                    问题2
                    优点：
                    优点1
                    优点2
                    改进建议：...
                    （依此类推，列出所有简历）

                    报告生成时间：XXXX年X月X日 XX:XX

                    注意事项
                    数据准确性

                    所有统计数据必须基于 result_list 数组准确计算
                    百分比保留一位小数
                    确保数量统计和占比计算正确
                    排序规则

                    问题按出现频率从高到低排序
                    严重问题优先展示
                    详细结果可按分数从高到低排序
                    信息完整性

                    文件URL要完整准确地列出
                    每个问题都要对应改进建议
                    表格数据要完整填充
                    异常处理

                    如果 result_list 为空，输出"未收到任何简历检查结果，请检查工作流配置"
                    如果数据格式错误，说明具体错误并给出修复建议
                    如果某个字段缺失，标注"数据缺失"
                    报告质量

                    语言简洁明了，重点突出
                    数据可视化（表格）清晰易读
                    建议具有可操作性和针对性
                    便于HR快速决策和行动
            - name: stableSystemPrompt
              input:
                type: string
                value: ""
            - name: canContinue
              input:
                type: boolean
                value: false
            - name: loopPromptVersion
              input:
                type: string
                value: ""
            - name: loopPromptName
              input:
                type: string
                value: ""
            - name: loopPromptId
              input:
                type: string
                value: ""
        node_inputs:
            - name: result_list
              input:
                type: list
                items:
                    type: object
                    properties:
                        candidate_name:
                            type: string
                            value: null
                        email:
                            type: string
                            value: null
                        file_type:
                            type: string
                            value: null
                        file_url:
                            type: string
                            value: null
                        issues_found:
                            type: list
                            items:
                                type: object
                                properties:
                                    check_point:
                                        type: string
                                        value: null
                                    issue_description:
                                        type: string
                                        value: null
                                    severity:
                                        type: string
                                        value: null
                                    status:
                                        type: string
                                        value: null
                                    suggestion:
                                        type: string
                                        value: null
                                value: null
                            value: null
                        job_title:
                            type: string
                            value: null
                        overall_assessment:
                            type: string
                            value: null
                        overall_score:
                            type: integer
                            value: null
                        phone:
                            type: string
                            value: null
                        strengths:
                            type: list
                            items:
                                type: string
                                value: null
                            value: null
                        summary:
                            type: string
                            value: null
                        weaknesses:
                            type: list
                            items:
                                type: string
                                value: null
                            value: null
                    value: null
                value:
                    path: result_list
                    ref_node: "106166"
        node_outputs:
            final_report:
                type: string
                value: null
            reasoning_content:
                type: string
                value: null
        settingOnError:
            processType: 1
            retryTimes: 0
            switch: false
            timeoutMs: 180000
    - id: "106166"
      type: batch
      title: 批处理
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg
      description: "通过设定批量运行次数和逻辑，运行批处理体内的任务"
      position:
        x: 3040
        y: 26
      canvas_position:
        x: 1940
        y: 318
      parameters:
        batchSize:
            type: integer
            value:
                content: 100
                rawMeta:
                    type: 2
                type: literal
        concurrentSize:
            type: integer
            value:
                content: 10
                rawMeta:
                    type: 2
                type: literal
        node_inputs:
            - name: resume_list
              input:
                value:
                    path: resume_list
                    ref_node: "100001"
        node_outputs:
            result_list:
                value:
                    type: list
                    items:
                        type: object
                        properties:
                            candidate_name:
                                type: string
                                value: null
                            email:
                                type: string
                                value: null
                            file_type:
                                type: string
                                value: null
                            file_url:
                                type: string
                                value: null
                            issues_found:
                                type: list
                                items:
                                    type: object
                                    properties:
                                        check_point:
                                            type: string
                                            value: null
                                        issue_description:
                                            type: string
                                            value: null
                                        severity:
                                            type: string
                                            value: null
                                        status:
                                            type: string
                                            value: null
                                        suggestion:
                                            type: string
                                            value: null
                                    value: null
                                value: null
                            job_title:
                                type: string
                                value: null
                            overall_assessment:
                                type: string
                                value: null
                            overall_score:
                                type: integer
                                value: null
                            phone:
                                type: string
                                value: null
                            strengths:
                                type: list
                                items:
                                    type: string
                                    value: null
                                value: null
                            summary:
                                type: string
                                value: null
                            weaknesses:
                                type: list
                                items:
                                    type: string
                                    value: null
                                value: null
                        value: null
                    value:
                        path: result
                        ref_node: "192034"
      nodes:
        - id: "187050"
          type: code
          title: 判断文件类型
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg
          description: "编写代码，处理输入变量来生成返回值"
          version: v2
          position:
            x: 640
            y: 127
          parameters:
            code: "import asyncio\nimport time\nimport json\n\nasync def main(args):\n    start_time = time.time()\n    \n    try:\n        params = args.params\n        \n        # 参数验证\n        if 'file_url' not in params:\n            return {\n                \"result\": \"\",\n                \"status\": \"error\",\n                \"statistics\": json.dumps({\n                    \"processing_time\": time.time() - start_time,\n                    \"success\": False\n                }),\n                \"message\": \"缺少必需参数: file_url\",\n                \"data\": []\n            }\n        \n        # 获取输入参数\n        file_url = params['file_url']\n        \n        # 验证file_url不为空\n        if not file_url or not isinstance(file_url, str):\n            return {\n                \"result\": \"\",\n                \"status\": \"error\",\n                \"statistics\": json.dumps({\n                    \"processing_time\": time.time() - start_time,\n                    \"success\": False\n                }),\n                \"message\": \"file_url参数为空或类型错误\",\n                \"data\": []\n            }\n        \n        # 将URL转为小写进行匹配\n        file_url_lower = file_url.lower()\n        \n        # 判断文件类型\n        file_type = \"unknown\"\n        \n        # 检查是否为PDF文件\n        if '.pdf' in file_url_lower:\n            file_type = \"pdf\"\n        # 检查是否为DOC/DOCX文件\n        elif '.doc' in file_url_lower or '.docx' in file_url_lower:\n            file_type = \"doc\"\n        \n        processing_time = time.time() - start_time\n        \n        # 构建返回结果\n        return {\n            \"result\": file_type,\n            \"status\": \"success\",\n            \"statistics\": json.dumps({\n                \"processing_time\": processing_time,\n                \"file_url_length\": len(file_url),\n                \"success\": True\n            }),\n            \"message\": f\"文件类型检测完成: {file_type}\",\n            \"data\": [\n                {\n                    \"file_type\": file_type,\n                    \"file_url\": file_url\n                }\n            ]\n        }\n        \n    except Exception as e:\n        return {\n            \"result\": \"\",\n            \"status\": \"error\",\n            \"statistics\": json.dumps({\n                \"processing_time\": time.time() - start_time,\n                \"error_type\": type(e).__name__,\n                \"error_message\": str(e),\n                \"success\": False\n            }),\n            \"message\": f\"处理异常: {str(e)}\",\n            \"data\": []\n        }"
            language: 3
            node_inputs:
                - name: file_url
                  input:
                    type: file
                    value:
                        path: resume_list
                        ref_node: "106166"
            node_outputs:
                data:
                    type: list
                    items:
                        type: object
                        properties:
                            file_type:
                                type: string
                                value: null
                            file_url:
                                type: string
                                value: null
                        value: null
                    value: null
                message:
                    type: string
                    value: null
                result:
                    type: string
                    value: null
                statistics:
                    type: object
                    properties:
                        error_message:
                            type: string
                            value: null
                        error_type:
                            type: string
                            value: null
                        processing_time:
                            type: string
                            value: null
                        success:
                            type: string
                            value: null
                    value: null
                status:
                    type: string
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                switch: false
                timeoutMs: 60000
        - id: "161720"
          type: plugin
          title: 读取简历文档
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg
          description: "读取文档内容，目前支持html、xml、doc、docx、txt、pdf、csv、xlsx格式"
          position:
            x: 1560
            y: 26
          parameters:
            apiParam:
                - name: apiID
                  input:
                    type: string
                    value: "7405805158996934683"
                - name: apiName
                  input:
                    type: string
                    value: "read"
                - name: pluginID
                  input:
                    type: string
                    value: "7405805158996918299"
                - name: pluginName
                  input:
                    type: string
                    value: "文件读取"
                - name: pluginVersion
                  input:
                    type: string
                    value: ""
                - name: tips
                  input:
                    type: string
                    value: ""
                - name: outDocLink
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: url
                  input:
                    type: string
                    value:
                        path: data.file_url
                        ref_node: "187050"
            node_outputs:
                code:
                    type: float
                    value: null
                data:
                    type: string
                    value: null
                log_id:
                    type: string
                    value: null
                msg:
                    type: string
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                timeoutMs: 180000
        - id: "109607"
          type: condition
          title: 选择器
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg
          description: "连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支"
          position:
            x: 1100
            y: 94
          parameters:
            branches:
                - condition:
                    conditions:
                        - left:
                            input:
                                type: string
                                value:
                                    path: data.file_type
                                    ref_node: "187050"
                          operator: 1
                          right:
                            input:
                                type: string
                                value: "doc"
                    logic: 2
                - condition:
                    conditions:
                        - left:
                            input:
                                type: string
                                value:
                                    path: data.file_type
                                    ref_node: "187050"
                          operator: 1
                          right:
                            input:
                                type: string
                                value: "pdf"
                    logic: 2
        - id: "192034"
          type: llm
          title: 检查当前简历
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg
          description: "调用大语言模型,使用变量和提示词生成回复"
          version: "3"
          position:
            x: 2020
            y: 0
          parameters:
            fcParamVar:
                knowledgeFCParam: {}
            llmParam:
                - name: generationDiversity
                  input:
                    type: string
                    value: default_val
                - name: temperature
                  input:
                    type: float
                    value: "0.5"
                - name: maxTokens
                  input:
                    type: integer
                    value: "32768"
                - name: spCurrentTime
                  input:
                    type: boolean
                    value: true
                - name: spAntiLeak
                  input:
                    type: boolean
                    value: false
                - name: thinkingType
                  input:
                    type: string
                    value: disabled
                - name: responseFormat
                  input:
                    type: integer
                    value: "2"
                - name: modelName
                  input:
                    type: string
                    value: DeepSeek-V3.1
                - name: modelType
                  input:
                    type: integer
                    value: "1755855875"
                - name: parameters
                  input:
                    type: object
                    value: null
                - name: prompt
                  input:
                    type: string
                    value: ""
                - name: enableChatHistory
                  input:
                    type: boolean
                    value: false
                - name: chatHistoryRound
                  input:
                    type: integer
                    value: "3"
                - name: systemPrompt
                  input:
                    type: string
                    value: |-
                        # 角色定位
                        你是一位专业的HR简历审核专家，擅长根据特定标准快速准确地评估简历质量。

                        # 任务目标
                        请根据提供的检查要点，详细分析当前简历，识别存在的问题并给出专业评价。

                        # 输入信息
                        - 简历内容：{{resume_content}}
                        - 文件类型：{{file_type}}
                        - 文件URL：{{file_url}}
                        - 标准与要求：{{jd_standard}}

                        # 分析要求
                        1. **基本信息**：根据简历内容，解析出该候选人的姓名{{candidate_name}}、电话号码{{phone}}、邮箱{{email}}、申请岗位{{job_title}}的信息
                        1. **逐项检查**：根据检查要点，逐一核对简历是否符合要求
                        2. **问题识别**：明确指出存在的问题及具体位置
                        3. **严重程度**：对每个问题标注严重程度（高/中/低）
                        4. **改进建议**：针对发现的问题给出具体、可操作的改进建议

                        # 输出格式
                        请按以下JSON格式输出分析结果：

                        ```json
                        {
                          "result": {
                            "candidate_name": "姓名",
                            "phone": "电话号码",
                            "email": "邮箱",
                            "job_title": "申请岗位",
                            "file_url": "{{file_url}}",
                            "file_type": "{{file_type}}",
                            "overall_score": 85,
                            "overall_assessment": "简历整体评价（100字以内）",
                            "issues_found": [
                              {
                                "check_point": "检查点名称",
                                "status": "通过/未通过",
                                "severity": "高/中/低",
                                "issue_description": "问题描述",
                                "suggestion": "改进建议"
                              }
                            ],
                            "strengths": ["优点1", "优点2"],
                            "weaknesses": ["不足1", "不足2"],
                            "summary": "总体建议和评语"
                          }
                        }
                - name: stableSystemPrompt
                  input:
                    type: string
                    value: ""
                - name: canContinue
                  input:
                    type: boolean
                    value: false
                - name: loopPromptVersion
                  input:
                    type: string
                    value: ""
                - name: loopPromptName
                  input:
                    type: string
                    value: ""
                - name: loopPromptId
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: resume_content
                  input:
                    value:
                        path: data
                        ref_node: "161720"
                - name: file_type
                  input:
                    type: string
                    value:
                        path: data.file_type
                        ref_node: "187050"
                - name: file_url
                  input:
                    type: string
                    value:
                        path: data.file_url
                        ref_node: "187050"
                - name: jd_standard
                  input:
                    value:
                        path: jd_standard
                        ref_node: "123049"
            node_outputs:
                reasoning_content:
                    type: string
                    value: null
                result:
                    type: object
                    properties:
                        candidate_name:
                            type: string
                            value: null
                        email:
                            type: string
                            value: null
                        file_type:
                            type: string
                            value: null
                        file_url:
                            type: string
                            value: null
                        issues_found:
                            type: list
                            items:
                                type: object
                                properties:
                                    check_point:
                                        type: string
                                        value: null
                                    issue_description:
                                        type: string
                                        value: null
                                    severity:
                                        type: string
                                        value: null
                                    status:
                                        type: string
                                        value: null
                                    suggestion:
                                        type: string
                                        value: null
                                value: null
                            value: null
                        job_title:
                            type: string
                            value: null
                        overall_assessment:
                            type: string
                            value: null
                        overall_score:
                            type: integer
                            value: null
                        phone:
                            type: string
                            value: null
                        strengths:
                            type: list
                            items:
                                type: string
                                value: null
                            value: null
                        summary:
                            type: string
                            value: null
                        weaknesses:
                            type: list
                            items:
                                type: string
                                value: null
                            value: null
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                switch: false
                timeoutMs: 180000
        - id: "178489"
          type: plugin
          title: 抛出异常
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg
          description: "手动返回错误，用于流程中需要手动报错的处理"
          position:
            x: 1560
            y: 238
          parameters:
            apiParam:
                - name: apiID
                  input:
                    type: string
                    value: "7483838004759543862"
                - name: apiName
                  input:
                    type: string
                    value: "raise_error"
                - name: pluginID
                  input:
                    type: string
                    value: "7483838004759527478"
                - name: pluginName
                  input:
                    type: string
                    value: "抛出异常"
                - name: pluginVersion
                  input:
                    type: string
                    value: ""
                - name: tips
                  input:
                    type: string
                    value: ""
                - name: outDocLink
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: code
                  input:
                    type: integer
                    value: -1
                - name: extra
                  input:
                    type: string
                    value: "null"
                - name: msg
                  input:
                    type: string
                    value: "简历文件类型无法解析"
            node_outputs:
                detail:
                    type: string
                    value: null
                    description: detail
            settingOnError:
                processType: 1
                retryTimes: 0
                timeoutMs: 180000
        - id: "154757"
          type: output
          title: 步骤3
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
          description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
          position:
            x: 180
            y: 127
          parameters:
            callTransferVoice: true
            chatHistoryWriting: historyWrite
            content:
                type: string
                value:
                    content: |-
                        处理简历：
                        {{step3}}
                    type: literal
            node_inputs:
                - name: step3
                  input:
                    type: file
                    value:
                        path: resume_list
                        ref_node: "106166"
            streamingOutput: false
      edges:
        - source_node: "154757"
          target_node: "187050"
        - source_node: "187050"
          target_node: "109607"
        - source_node: "109607"
          target_node: "161720"
          source_port: "true"
        - source_node: "109607"
          target_node: "161720"
          source_port: true_1
        - source_node: "161720"
          target_node: "192034"
        - source_node: "109607"
          target_node: "178489"
          source_port: "false"
        - source_node: "178489"
          target_node: "192034"
        - source_node: "192034"
          target_node: "106166"
          target_port: batch-function-inline-input
        - source_node: "106166"
          target_node: "154757"
          source_port: batch-function-inline-output
    - id: "123250"
      type: output
      title: 步骤1
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
      description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
      position:
        x: 640
        y: 26
      parameters:
        callTransferVoice: true
        chatHistoryWriting: historyWrite
        content:
            type: string
            value:
                content: |-
                    正在总结岗位描述...
                    岗位描述：
                    {{job_description}}
                    待检查简历：
                    {{resume_list}}
                type: literal
        node_inputs:
            - name: job_description
              input:
                value:
                    path: job_description
                    ref_node: "100001"
            - name: resume_list
              input:
                value:
                    path: resume_list
                    ref_node: "100001"
        streamingOutput: true
    - id: "114612"
      type: output
      title: 步骤2
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
      description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
      position:
        x: 1560
        y: 26
      parameters:
        callTransferVoice: true
        chatHistoryWriting: historyWrite
        content:
            type: string
            value:
                content: |-
                    岗位描述总结完毕：
                    {{step2}}

                    准备并行处理每个简历信息...
                type: literal
        node_inputs:
            - name: step2
              input:
                value:
                    path: jd_standard
                    ref_node: "123049"
        streamingOutput: false
    - id: "140336"
      type: output
      title: 步骤4
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
      description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
      position:
        x: 4520
        y: 26
      parameters:
        callTransferVoice: true
        chatHistoryWriting: historyWrite
        content:
            type: string
            value:
                content: 简历批处理完成，准备汇总简历诊断信息...
                type: literal
        streamingOutput: false
    - id: "167498"
      type: output
      title: 输出
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
      description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
      position:
        x: 5440
        y: 26
      parameters:
        callTransferVoice: true
        chatHistoryWriting: historyWrite
        content:
            type: string
            value:
                content: 接下来我们要针对每一名候选人进行处理
                type: literal
        streamingOutput: false
    - id: "180747"
      type: batch
      title: 批处理_1
      icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg
      description: "通过设定批量运行次数和逻辑，运行批处理体内的任务"
      position:
        x: 5937.541692688913
        y: 26
      canvas_position:
        x: 4771.189057554925
        y: 288.6239714684647
      parameters:
        batchSize:
            type: integer
            value:
                content: 100
                rawMeta:
                    type: 2
                type: literal
        concurrentSize:
            type: integer
            value:
                content: 3
                rawMeta:
                    type: 2
                type: literal
        node_inputs:
            - name: result_list
              input:
                type: list
                items:
                    type: object
                    properties:
                        candidate_name:
                            type: string
                            value: null
                        email:
                            type: string
                            value: null
                        file_type:
                            type: string
                            value: null
                        file_url:
                            type: string
                            value: null
                        issues_found:
                            type: list
                            items:
                                type: object
                                properties:
                                    check_point:
                                        type: string
                                        value: null
                                    issue_description:
                                        type: string
                                        value: null
                                    severity:
                                        type: string
                                        value: null
                                    status:
                                        type: string
                                        value: null
                                    suggestion:
                                        type: string
                                        value: null
                                value: null
                            value: null
                        job_title:
                            type: string
                            value: null
                        overall_assessment:
                            type: string
                            value: null
                        overall_score:
                            type: integer
                            value: null
                        phone:
                            type: string
                            value: null
                        strengths:
                            type: list
                            items:
                                type: string
                                value: null
                            value: null
                        summary:
                            type: string
                            value: null
                        weaknesses:
                            type: list
                            items:
                                type: string
                                value: null
                            value: null
                    value: null
                value:
                    path: result_list
                    ref_node: "106166"
            - name: resume_list
              input:
                value:
                    path: resume_list
                    ref_node: "100001"
      nodes:
        - id: "174477"
          type: output
          title: 输出_1
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
          description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
          position:
            x: 9.555256537599117
            y: 208.69104311518998
          parameters:
            callTransferVoice: true
            chatHistoryWriting: historyWrite
            content:
                type: string
                value:
                    content: 正在加入数据库
                    type: literal
            node_inputs:
                - name: item
                  input:
                    type: object
                    value:
                        path: result_list
                        ref_node: "180747"
            streamingOutput: false
        - id: "101876"
          type: condition
          title: 选择器_1
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg
          description: "连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支"
          position:
            x: 801.8120435921472
            y: 482.66787593352853
          parameters:
            branches:
                - condition:
                    conditions:
                        - left:
                            input:
                                type: string
                                value:
                                    path: result_list.issues_found.status
                                    ref_node: "180747"
                          operator: 1
                          right:
                            input:
                                type: string
                                value: "通过"
                    logic: 2
        - id: "130661"
          type: code
          title: 代码
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg
          description: "编写代码，处理输入变量来生成返回值"
          version: v2
          position:
            x: 210.26305594287567
            y: 354.998174960636
          parameters:
            code: |-
                async function main({ params }) {
                    // 纯算法生成，不依赖任何外部库
                    const uid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    });

                    const ret = uid;
                    return ret;
                }
            language: 5
            node_outputs:
                ret:
                    type: string
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                switch: false
                timeoutMs: 60000
        - id: "133934"
          type: plugin
          title: Time
          icon: https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/cb4324658e8942c88a1e53033a94d326~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1766490315&x-signature=Ph58RiMB5CmatNT8HK5f7dLtzKc%3D
          description: "提供时间、时期和节日信息"
          position:
            x: 210.26305594287572
            y: 499.7713956128349
          parameters:
            apiParam:
                - name: apiID
                  input:
                    type: string
                    value: "7503405665918910514"
                - name: apiName
                  input:
                    type: string
                    value: "Time"
                - name: pluginID
                  input:
                    type: string
                    value: "7503405660609216549"
                - name: pluginName
                  input:
                    type: string
                    value: "日期工具"
                - name: pluginVersion
                  input:
                    type: string
                    value: ""
                - name: tips
                  input:
                    type: string
                    value: ""
                - name: outDocLink
                  input:
                    type: string
                    value: ""
            node_outputs:
                now:
                    type: string
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                timeoutMs: 180000
        - id: "196239"
          type: llm
          title: 规范化人才库记录
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg
          description: "调用大语言模型,使用变量和提示词生成回复"
          version: "3"
          position:
            x: 210.26305594287547
            y: 668.0308403611585
          parameters:
            fcParamVar:
                knowledgeFCParam: {}
            llmParam:
                - name: temperature
                  input:
                    type: float
                    value: "1"
                - name: topP
                  input:
                    type: float
                    value: "0.7"
                - name: frequencyPenalty
                  input:
                    type: float
                    value: "0"
                - name: maxTokens
                  input:
                    type: integer
                    value: "4096"
                - name: spCurrentTime
                  input:
                    type: boolean
                    value: false
                - name: spAntiLeak
                  input:
                    type: boolean
                    value: false
                - name: thinkingType
                  input:
                    type: string
                    value: enabled
                - name: responseFormat
                  input:
                    type: integer
                    value: "2"
                - name: modelName
                  input:
                    type: string
                    value: 豆包·1.6·极致速度·250828
                - name: modelType
                  input:
                    type: integer
                    value: "1761035614"
                - name: generationDiversity
                  input:
                    type: string
                    value: default_val
                - name: parameters
                  input:
                    type: object
                    properties:
                        max_completion_tokens:
                            type: integer
                            value: "0"
                    value: null
                - name: prompt
                  input:
                    type: string
                    value: ""
                - name: enableChatHistory
                  input:
                    type: boolean
                    value: false
                - name: chatHistoryRound
                  input:
                    type: integer
                    value: "3"
                - name: systemPrompt
                  input:
                    type: string
                    value: "# 角色\n你是 HR 数据管理员，生成标准化的人才库记录并给出入库/更新建议。\n# 输入\n候选人姓名 {{candidate_name}} ，邮箱 {{email}} ，电话 {{phone}} ，岗位 {{job_title}} ，评分 {{overall_score}} ，状态 {{status}} ，文件URL {{file_url}} 。\n# 规则\n- 根据分数分档生成 grade ： A （≥85）、 B （70–84）、 C （<70）。\n- 生成主键 upsert_key ： {{upsert_key}}\n- 输出严格 JSON，顶层键为：\n  - record ：对象，字段包含： candidate_name/email/phone/job_title/overall_score/grade/status/file_url/upsert_key/created_at\n# 输出的格式\n{\n  \"records\": [\n    {\n      \"fields\": {\n        \"candidate_name\": \"{{candidate_name}}\",\n        \"email\": \"{{email}}\",\n        \"phone\": \"{{phone}}\",\n        \"job_title\": \"{{job_title}}\",\n        \"overall_score\": {{overall_score}}, \n        \"grade\": \"规则中生成的grade\",\n        \"status\": \"{{status}}\",\n        \"file_url\": \"{{file_url}}\",\n        \"upsert_key\": \"{{upsert_key}}\",\n        \"created_at\": \"{{now}}\"\n      }\n    }\n  ]\n}"
                - name: stableSystemPrompt
                  input:
                    type: string
                    value: ""
                - name: canContinue
                  input:
                    type: boolean
                    value: false
                - name: loopPromptVersion
                  input:
                    type: string
                    value: ""
                - name: loopPromptName
                  input:
                    type: string
                    value: ""
                - name: loopPromptId
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: candidate_name
                  input:
                    type: string
                    value:
                        path: result_list.candidate_name
                        ref_node: "180747"
                - name: email
                  input:
                    type: string
                    value:
                        path: result_list.email
                        ref_node: "180747"
                - name: phone
                  input:
                    type: string
                    value:
                        path: result_list.phone
                        ref_node: "180747"
                - name: job_title
                  input:
                    type: string
                    value:
                        path: result_list.job_title
                        ref_node: "180747"
                - name: overall_score
                  input:
                    type: integer
                    value:
                        path: result_list.overall_score
                        ref_node: "180747"
                - name: status
                  input:
                    type: string
                    value:
                        path: result_list.issues_found.status
                        ref_node: "180747"
                - name: file_url
                  input:
                    type: string
                    value:
                        path: result_list.file_url
                        ref_node: "180747"
                - name: upsert_key
                  input:
                    value:
                        path: ret
                        ref_node: "130661"
                - name: now
                  input:
                    value:
                        path: now
                        ref_node: "133934"
            node_outputs:
                reasoning_content:
                    type: string
                    value: null
                records:
                    type: list
                    items:
                        type: object
                        properties:
                            fields:
                                type: object
                                properties:
                                    candidate_name:
                                        type: string
                                        value: null
                                    created_at:
                                        type: string
                                        value: null
                                    email:
                                        type: string
                                        value: null
                                    file_url:
                                        type: string
                                        value: null
                                    grade:
                                        type: string
                                        value: null
                                    job_title:
                                        type: string
                                        value: null
                                    overall_score:
                                        type: float
                                        value: null
                                    phone:
                                        type: string
                                        value: null
                                    status:
                                        type: string
                                        value: null
                                    upsert_key:
                                        type: string
                                        value: null
                                value: null
                        value: null
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                switch: false
                timeoutMs: 180000
        - id: "147866"
          type: plugin
          title: add_records
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg
          description: "在多维表格数据表中新增多条记录，单次调用最多新增 500 条记录。"
          position:
            x: 210.26305594287518
            y: 864.290285109482
          parameters:
            apiParam:
                - name: apiID
                  input:
                    type: string
                    value: "7395047759797288987"
                - name: apiName
                  input:
                    type: string
                    value: "add_records"
                - name: pluginID
                  input:
                    type: string
                    value: "7395047759797272603"
                - name: pluginName
                  input:
                    type: string
                    value: "飞书多维表格"
                - name: pluginVersion
                  input:
                    type: string
                    value: ""
                - name: tips
                  input:
                    type: string
                    value: ""
                - name: outDocLink
                  input:
                    type: string
                    value: ""
                - name: pluginAuthMode
                  input:
                    type: integer
                    value: 0
            node_inputs:
                - name: app_token
                  input:
                    type: string
                    value: "D6ZAbxi3raVAQzsME9Oc9CqpnBf"
                - name: records
                  input:
                    value:
                        path: records
                        ref_node: "196239"
                - name: table_id
                  input:
                    type: string
                    value: "tblwnzzuGIrIUjkL"
            node_outputs:
                code:
                    type: float
                    value: null
                    description: 错误码，非 0 表示失败。
                data:
                    type: object
                    properties:
                        records:
                            type: list
                            items:
                                type: object
                                properties:
                                    fields:
                                        type: string
                                        value: null
                                        description: 数据表的字段，即数据表的列，格式为 json 字符串。
                                    record_id:
                                        type: string
                                        value: null
                                        description: 一条记录的唯一标识 id
                                value: null
                            value: null
                            description: 本次请求新增的记录列表
                    value: null
                    description: 返回结果
                log_id:
                    type: string
                    value: null
                    description: 链路追踪 id
                msg:
                    type: string
                    value: null
                    description: 错误描述
            settingOnError:
                processType: 1
                retryTimes: 0
                timeoutMs: 180000
        - id: "106608"
          type: llm
          title: 生成面试邀请邮件草案
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg
          description: "调用大语言模型,使用变量和提示词生成回复"
          version: "3"
          position:
            x: 1269.0600440007865
            y: 281.577134804495
          parameters:
            fcParamVar:
                knowledgeFCParam: {}
            llmParam:
                - name: generationDiversity
                  input:
                    type: string
                    value: default_val
                - name: temperature
                  input:
                    type: float
                    value: "1"
                - name: maxTokens
                  input:
                    type: integer
                    value: "2200"
                - name: spCurrentTime
                  input:
                    type: boolean
                    value: false
                - name: spAntiLeak
                  input:
                    type: boolean
                    value: false
                - name: thinkingType
                  input:
                    type: string
                    value: enabled
                - name: responseFormat
                  input:
                    type: integer
                    value: "2"
                - name: modelName
                  input:
                    type: string
                    value: DeepSeek-V3.1
                - name: modelType
                  input:
                    type: integer
                    value: "1755855875"
                - name: parameters
                  input:
                    type: object
                    value: null
                - name: prompt
                  input:
                    type: string
                    value: ""
                - name: enableChatHistory
                  input:
                    type: boolean
                    value: false
                - name: chatHistoryRound
                  input:
                    type: integer
                    value: "3"
                - name: systemPrompt
                  input:
                    type: string
                    value: |
                        # 角色
                        作为专业HR招聘负责人，基于提供的岗位及候选人相关信息，生成一份正式且友好的面试邀请邮件草案，确保邮件内容既体现招聘专业性，又传递对候选人的尊重与重视。
                        # 输入
                        请提供以下用于生成邮件的关键信息，信息将直接决定邮件内容的针对性与准确性：
                         - 岗位标准（{{jd_standard}}）
                         - 候选人（{{candidate_name}}）
                         - 联系方式：候选人的邮箱（{{email}}）及电话（{{phone}}）
                         - 评估摘要（{{result}}）：包含候选人简历筛选、初筛评估等环节的核心结论，需明确候选人与岗位匹配的具体亮点（如技能匹配度、经验契合点、个人优势等）。
                        # 输出要求
                         - 格式规范：输出内容严格限定为JSON格式，顶层键为email_draft，无任何额外文字（包括注释、说明性语句等）。
                         - JSON结构要求：
                        	- subject（邮件主题）：字符串格式，需简洁明了，包含“面试邀请”、岗位名称（从{{jd_standard}}中提取）及候选人姓名关键信息，如“【XX公司】XX岗位面试邀请 - 致{{candidate_name}}”。
                          	- text（邮件正文）：字符串格式，采用Markdown格式排版，内容需完整覆盖以下模块，语言专业、礼貌、逻辑清晰：
                        # 正文部分
                        1. 称呼与问候：以“尊敬的{{candidate_name}}先生/女士”开头，后续紧跟礼貌问候语（如“您好！”），体现对候选人的尊重。
                        2. 匹配亮点与岗位关键：结合{{result}}中的评估结论与{{jd_standard}}的岗位核心要求，明确阐述候选人的匹配亮点（如“您在XX领域X年的工作经验，与岗位要求的XX能力高度契合”）及岗位关键点（如核心职责、发展前景等），说明邀请面试的核心原因。
                        3. 面试核心信息：清晰告知面试时间（可预留时间区间供候选人选择，如“2025年X月X日 上午9:00-11:00 或 下午2:00-4:00”）、面试地点（线下需注明详细地址，线上需说明会议平台、会议链接及会议号）。
                        4. 面试规则介绍：简要说明面试形式（如“一对一结构化面试”“多轮复试”）、面试时长、需携带的材料（如身份证、简历复印件、相关资质证书等）及注意事项（如“建议提前10分钟到达面试地点”）。
                        5. 联系方式说明：若{{email}}和/或{{phone}}为空，需明确提示“您的部分联系方式尚未完善，我们将通过电话或招聘平台与您联系确认后续细节”；若信息完整，可补充“如需调整面试安排，可直接通过上述联系方式与我们沟通”。
                        6. 回信指引：明确要求候选人在指定时间内（如“3个工作日内”）回复本邮件，确认是否参加面试及意向面试时间，示例：“烦请您于2025年X月X日前回复本邮件，格式为‘{{candidate_name}}-XX岗位-确认参加-意向时间：XX’，若无法参加也请同步告知，感谢您的配合。”
                        7. 问题反馈渠道：提供HR联系人及联系方式（如“若您对面试安排有任何疑问，可联系HRXXX，电话：XXX-XXXXXXX，邮箱：XXX@XX公司.com”），方便候选人咨询。
                        8. 结尾敬语：以礼貌的祝颂语（如“顺祝商祺”“祝您生活愉快”）及招聘方落款（公司名称、HR部门、日期）收尾。
                        9. 内容适配性：若输入的联系方式（email/phone）为空，需在正文中按要求提示后续联系方式，不影响邮件草案的完整生成；所有内容需紧密结合输入信息，避免空泛表述，确保候选人能清晰感知自身与岗位的匹配价值。
                        # 说明
                        本公司名称为 北京心脏跳动科技有限公司
                        地址为北京市朝阳区三间房乡梆子井公寓4号楼209
                        # 输出限制
                        仅返回符合上述要求的JSON内容，JSON中subject和text均为字符串格式，不得包含任何JSON结构外的文字、符号或说明性内容。
                - name: stableSystemPrompt
                  input:
                    type: string
                    value: ""
                - name: canContinue
                  input:
                    type: boolean
                    value: false
                - name: loopPromptVersion
                  input:
                    type: string
                    value: ""
                - name: loopPromptName
                  input:
                    type: string
                    value: ""
                - name: loopPromptId
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: jd_standard
                  input:
                    value:
                        path: jd_standard
                        ref_node: "123049"
                - name: candidate_name
                  input:
                    type: string
                    value:
                        path: result_list.candidate_name
                        ref_node: "180747"
                - name: email
                  input:
                    type: string
                    value:
                        path: result_list.email
                        ref_node: "180747"
                - name: phone
                  input:
                    type: string
                    value:
                        path: result_list.phone
                        ref_node: "180747"
                - name: result
                  input:
                    type: object
                    value:
                        path: result_list
                        ref_node: "180747"
            node_outputs:
                email_draft:
                    type: object
                    properties:
                        subject:
                            type: string
                            value: null
                        text:
                            type: string
                            value: null
                    value: null
                reasoning_content:
                    type: string
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                switch: false
                timeoutMs: 180000
        - id: "188019"
          type: plugin
          title: sendMail
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg
          description: "发送邮件"
          position:
            x: 1690.4741741316775
            y: 307.577134804495
          parameters:
            apiParam:
                - name: apiID
                  input:
                    type: string
                    value: "7385456907873517618"
                - name: apiName
                  input:
                    type: string
                    value: "sendMail"
                - name: pluginID
                  input:
                    type: string
                    value: "7385456907873501234"
                - name: pluginName
                  input:
                    type: string
                    value: "邮件管理"
                - name: pluginVersion
                  input:
                    type: string
                    value: ""
                - name: tips
                  input:
                    type: string
                    value: ""
                - name: outDocLink
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: account
                  input:
                    type: string
                    value: "geoche1one@163.com"
                - name: password
                  input:
                    type: string
                    value: "HTrN872UKprS7p8Z"
                - name: subject
                  input:
                    value:
                        path: email_draft.subject
                        ref_node: "106608"
                - name: text
                  input:
                    value:
                        path: email_draft.text
                        ref_node: "106608"
                - name: to
                  input:
                    type: string
                    value:
                        path: result_list.email
                        ref_node: "180747"
            node_outputs:
                message:
                    type: string
                    required: true
                    value: null
                    description: 执行的结果
                success:
                    type: boolean
                    required: true
                    value: null
                    description: 是否发送成功
            settingOnError:
                processType: 1
                retryTimes: 0
                timeoutMs: 180000
        - id: "170119"
          type: llm
          title: 生成个性化面试问题
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg
          description: "调用大语言模型,使用变量和提示词生成回复"
          version: "3"
          position:
            x: 2164.744443688882
            y: 419.5771348044951
          parameters:
            fcParamVar:
                knowledgeFCParam: {}
            llmParam:
                - name: temperature
                  input:
                    type: float
                    value: "0.8"
                - name: maxTokens
                  input:
                    type: integer
                    value: "2200"
                - name: spCurrentTime
                  input:
                    type: boolean
                    value: false
                - name: spAntiLeak
                  input:
                    type: boolean
                    value: false
                - name: thinkingType
                  input:
                    type: string
                    value: enabled
                - name: responseFormat
                  input:
                    type: integer
                    value: "2"
                - name: modelName
                  input:
                    type: string
                    value: DeepSeek-V3.1
                - name: modelType
                  input:
                    type: integer
                    value: "1755855875"
                - name: generationDiversity
                  input:
                    type: string
                    value: balance
                - name: parameters
                  input:
                    type: object
                    value: null
                - name: prompt
                  input:
                    type: string
                    value: ""
                - name: enableChatHistory
                  input:
                    type: boolean
                    value: false
                - name: chatHistoryRound
                  input:
                    type: integer
                    value: "3"
                - name: systemPrompt
                  input:
                    type: string
                    value: |4
                        # 角色
                        你是资深面试官，依据岗位标准与候选人评估结果，为该候选人生成个性化面试问题。
                        # 输入
                        - 岗位标准： {{jd_standard}}
                        - 评估补充说明： {{reasoning_content}}
                        - 简历评估对象： {{result}} （含 overall_score 、 overall_assessment 、 issues_found[] 、 strengths[] 、 weaknesses[] 、 file_url 、 file_type 等）
                        # 任务
                        - 从 {{jd_standard}} 抽取岗位关键能力与必备技能，从 {{result}} 提取候选人优势与不足（含 issues_found 的检查点与严重程度）。
                        - 生成6–10道个性化面试问题，覆盖“技术/项目/行为/沟通”四类，难度为“初/中/高”，与候选人的 overall_score 和严重问题匹配。
                        - 每题包含： question 、 category 、 difficulty 、 rationale 、 expected_points[] （3–6条）。
                        # 规则
                        - 问题必须具体、可追问；针对 strengths 与 weaknesses 给出差异化提问。
                        - 若 issues_found 存在严重项（ severity="高" ），至少生成2–3道深挖题目。
                        - 信息缺失时提供能引出关键信息的高质量通用题，并在 rationale 标注依据不足。
                        - 只允许输出严格的 JSON，不得输出任何额外文字或解释。
                        # 输出
                        JSON 顶层键： questions （数组），字段与类型如下：
                        - question (string)
                        - category (string: 技术/项目/行为/沟通)
                        - difficulty (string: 初/中/高)
                        - rationale (string)
                        - expected_points (array)
                - name: stableSystemPrompt
                  input:
                    type: string
                    value: ""
                - name: canContinue
                  input:
                    type: boolean
                    value: false
                - name: loopPromptVersion
                  input:
                    type: string
                    value: ""
                - name: loopPromptName
                  input:
                    type: string
                    value: ""
                - name: loopPromptId
                  input:
                    type: string
                    value: ""
            node_inputs:
                - name: jd_standard
                  input:
                    value:
                        path: jd_standard
                        ref_node: "123049"
                - name: result
                  input:
                    type: object
                    value:
                        path: result_list
                        ref_node: "180747"
            node_outputs:
                questions:
                    type: list
                    items:
                        type: object
                        properties:
                            category:
                                type: string
                                value: null
                            difficulty:
                                type: string
                                value: null
                            expected_points:
                                type: list
                                items:
                                    type: string
                                    value: null
                                value: null
                            question:
                                type: string
                                value: null
                            rationale:
                                type: string
                                value: null
                        value: null
                    value: null
                reasoning_content:
                    type: string
                    value: null
            settingOnError:
                processType: 1
                retryTimes: 0
                switch: false
                timeoutMs: 180000
        - id: "104881"
          type: output
          title: 输出_2
          icon: https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg
          description: "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式"
          position:
            x: 2600.245626085896
            y: 445.57713480449513
          parameters:
            callTransferVoice: true
            chatHistoryWriting: historyWrite
            content:
                type: string
                value:
                    type: literal
            node_inputs:
                - name: questions
                  input:
                    value:
                        path: questions
                        ref_node: "170119"
            streamingOutput: false
      edges:
        - source_node: "180747"
          target_node: "174477"
          source_port: batch-function-inline-output
        - source_node: "174477"
          target_node: "130661"
        - source_node: "147866"
          target_node: "101876"
        - source_node: "101876"
          target_node: "180747"
          source_port: "false"
          target_port: batch-function-inline-input
        - source_node: "101876"
          target_node: "106608"
          source_port: "true"
        - source_node: "130661"
          target_node: "133934"
        - source_node: "133934"
          target_node: "196239"
        - source_node: "196239"
          target_node: "147866"
        - source_node: "106608"
          target_node: "188019"
        - source_node: "188019"
          target_node: "170119"
        - source_node: "170119"
          target_node: "104881"
        - source_node: "104881"
          target_node: "180747"
          target_port: batch-function-inline-input
edges:
    - source_node: "100001"
      target_node: "123250"
    - source_node: "180747"
      target_node: "900001"
      source_port: batch-output
    - source_node: "123250"
      target_node: "123049"
    - source_node: "123049"
      target_node: "114612"
    - source_node: "140336"
      target_node: "114630"
    - source_node: "114630"
      target_node: "167498"
    - source_node: "114612"
      target_node: "106166"
    - source_node: "106166"
      target_node: "140336"
      source_port: batch-output
    - source_node: "167498"
      target_node: "180747"
